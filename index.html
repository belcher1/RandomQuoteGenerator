<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    >

    <!-- Tab Heading -->
    <title>Random Quotes</title>

    <script>
      let quoteBank = [
        {quote:"This is the first quote",author:"Natalie Poo"},
        {quote:"This is the second quote",author:"Boo Boo"},
        {quote:"This is the third quote",author:"Monkey Baby"}
      ]

      window.onload = init;
      function init() {
        // console.log("JS Loaded");

        // document.getElementById('text').innerText = 'Meep';
        // document.getElementById('author').innerText = 'Natalie';

        generateQuote();
      }

      function generateQuote() {
        console.log('Generated quote');

        let randomNum = Math.round((quoteBank.length - 1) * Math.random());

        document.getElementById('text').innerText = quoteBank[randomNum].quote;
        document.getElementById('author').innerText = quoteBank[randomNum].author;

        let twitterLink = 'https://twitter.com/intent/tweet';

        // Add Quote
        twitterLink += '?text=';

        let formattedQuote = quoteBank[randomNum].quote.replace(' ', '%20');
        twitterLink += '%22' + formattedQuote + '%22';

        // Add Author
        twitterLink += ' ';

        let formattedAuthor = quoteBank[randomNum].author.replace(' ', '%20');
        twitterLink += formattedAuthor;

        document.getElementById('tweet-quote').href = twitterLink;
      }
    </script>

    <style>
      .box {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #page {
        height: 100vh;
        width: 100vw;
        background: black;
      }

      #quote-box {
        background: green;
        height: 25vh;
        width: 25vw;
      }

      #text-box {
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div id='page' class='box'>
      <div id="quote-box" class='box'>
        <div id='text-box'>
          Random Quotes
          <div id="text"></div>
          <div id="author"></div>
          <button id="new-quote" class='btn btn-secondary' onClick="generateQuote();">New Quote</button>
          <a id="tweet-quote" class='btn btn-primary' href="#" target="_blank">Tweet</a>
        </div>
      </div>
    </div>

    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous">
    </script>
  </body>
</html>
